# go_stock
- 為個人練習Go用途，使用微服務架構實現股票交易,查詢等等功能


## Schema
- https://dbdocs.io/roycewnag
## 功能概覽

### 帳號管理
- **用戶管理**：支持用戶的新增、修改和查詢。
- **帳號驗證**：新建帳號時發送驗證郵件（目前未實作帳號開通）。

### 身份驗證
- **API驗證**：所有API均需進行身份驗證。
- **Token管理**：實現JWT Token，支持多種加密演算法（部分演算法存在問題）。
- **安全性增強**：採用Paseto token，使用固定v2加密演算法，提升安全性。
- **Token刷新和會話記錄**：支持刷新Token和會話記錄功能。
- **角色管理**：目前沒有實現角色管理功能。

### 庫存查詢
- 查詢用戶的股票庫存信息。

### 損益查詢
- 查詢已實現和未實現的損益。

### 及時股票查詢
- 基於臺灣證券交易所API所產生的假資料。

### 交易功能
- 使用列隊的方式處理交易功能，尚未實現搓合

## 微服務詳細介紹


### Broker
- 入口端點，由GRPC與其他微服務溝通。
- 集中式管理並記錄所有流量。

### Stockinfo
- 帳號管理功能。
- 認證功能。
- 庫存查詢功能
- 損益查詢功能
- 交易功能


### Scheduler
- 基於臺灣證券交易昨日資料，每5秒生成2萬餘筆最大振福3%的價格變動資料。
- 使用Redis與PostgreSQL儲存資料。
- 
### Distributor
- 實時股票價格資訊功能
- 前端通過IP註冊，選擇需要的股票代碼數據。
- 過濾所需實時股票資訊，將資料傳給Kafka後由消費者處理股票資料。

### Logger
- 使用zerolog庫進行日誌記錄。
- 從asynq接收日誌任務並寫入MongoDB。


## 工具和技術棧
- Go
- PostgreSQL
- MongoDB
- GRPC
- Kafka
- Asynq
- docker
- k8s
- Github flow


---

> 本文檔只包含功能的簡要介紹，具體實現細節可能根據實際開發情況有所調整。
